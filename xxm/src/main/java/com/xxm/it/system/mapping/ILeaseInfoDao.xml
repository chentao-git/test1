<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xxm.it.system.dao.ILeaseInfoDao">
  <sql id="query_lease_info">
    SELECT 
	    t.base_lease_info_id AS baseLeaseInfoId,
		t.car_Type_VL AS carTypeVL,
		t.manufacturer AS manufacturer,
		t.brand AS brand,
		t.car_Name AS carName,
		t.model AS model,
		t.leasehold_Use AS leaseholdUse,
		t.leasehold_Area AS leaseholdArea,
		t.engine_Number AS engineNumber,
		t.frame_Number AS frameNumber,
		t.driving_Form AS drivingForm,
		t.engine_Model AS engineModel,
		t.engine_Power AS enginePower,
		t.car_Color AS carColor,
		t.plate_Number AS plateNumber,
		t.other_Instructions AS otherInstructions,
		t.apply_Info_Id AS applyInfoId,
		t.create_by AS createBy,
		t.create_date AS createDate,
		t.last_update_by AS lastUpdateBy,
		t.last_update_date AS lastUpdateDate,
		t.status AS status,
		t.install_id AS installId,
		t.run_area_name AS runAreaName,
		t.start_site_name AS startSiteName,
		t.license_type_product_config AS licenseTypeProductConfig,
		t.license_color_code_product_config AS licenseColorCodeProductConfig,
		t.car_kind_code AS carKindCode,
		t.engine_no AS engineNo,
		t.vin_no AS vinNo,
		t.enroll_date AS enrollDate,
		t.brand_name AS brandName,
		t.seat_count AS seatCount,
		t.exhaust_scale AS exhaustScale,
		t.ton_count AS tonCount,
		t.purchase_price AS purchasePrice,
		t.invoice_no AS invoiceNo,
		t.loan_no1 AS loanNo1,
		t.plan_amount AS planAmount,
		t.unit_amount AS unitAmount,
		t.loan_way AS loanWay,
		t.car_kind AS carKind,
		t.car_type AS carType,
		t.main_bd AS mainBd,
		t.carlne AS carlne,
		t.car_tp AS carTp,
		t.regs_no AS regsNo,
		t.gtre_dt AS gtreDt,
		t.seal_am AS sealAm,
		t.tripartite_ev AS tripartiteEv,
		t.rb_evaluate AS rbEvaluate,
		t.driving_mileage AS drivingMileage,
		t.tran_am AS tranAm,
		t.car_age AS carAge,
		t.powerctetype AS powerctetype,
		t.buycarcustname AS buycarcustname,
		t.chnelbusno AS chnelbusno,
		t.chnelbusname AS chnelbusname,
		t.chnelbusadr AS chnelbusadr,
		t.sellername AS sellername,
		t.selleraddress AS selleraddress,
		t.payeename AS payeename,
		t.isotherbank AS isotherbank,
		t.payeetype AS payeetype,
		t.payeeacct AS payeeacct,
		t.payeebank AS payeebank,
		t.payeebankno AS payeebankno,
		t.carowner AS carowner,
		t.leasecmpname AS leasecmpname,
		t.leasecmpadr AS leasecmpadr,
		t.imeino AS imeino,
		t.gpsstt AS gpsstt,
		t.storena AS storena,
		t.ifwhiteflag AS ifwhiteflag,
		t.use_nature AS useNature,
		t.invoice_value AS invoiceValue,
		t.step_hull AS stepHull,
		t.sealsn AS sealsn,
		t.gpsput AS gpsput,
		t.usesTp AS usesTp,
		t.model_name AS modelName
    FROM xxm_base_lease_info_t t 
    WHERE 1=1
  </sql>
  <sql id="select_condition">
    <if test="baseLeaseInfoId != null and baseLeaseInfoId != ''">
     	AND  t.base_lease_info_id = #{baseLeaseInfoId,jdbcType=VARCHAR}
    </if>
    <if test="leaseholdUse != null and leaseholdUse != ''">
    	AND t.leasehold_Use like concat('%',#{leaseholdUse,jdbcType=VARCHAR},'%')
    </if>
    <if test="leaseholdArea != null and leaseholdArea != ''">
    	AND t.leasehold_Area like concat('%',#{leaseholdArea,jdbcType=VARCHAR},'%')
    </if>
    <if test="applyInfoId != null and applyInfoId != ''">
    	AND t.apply_Info_Id = #{applyInfoId,jdbcType=VARCHAR}
    </if>
  </sql>
  <!-- 查询凭租物信息列表 -->
  <select id="findLeaseInfoList" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO" resultType="com.xxm.it.business.vo.BaseLeaseInfoVO">
    <include refid="query_lease_info"></include>
    <include refid="select_condition"></include>
       AND status='0'
		   order by t.create_date desc
		   limit #{offset,jdbcType=VARCHAR},#{limit,jdbcType=VARCHAR}
  </select>
   <!-- 查询凭租物信息总数 -->
   <select id="findListCount" resultType="java.lang.Integer" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO">
     SELECT count(base_lease_info_id) FROM xxm_base_lease_info_t t WHERE 1=1 AND status='0'
	 <include refid="select_condition"></include>
   </select>
   <!-- 根据id去查询详情信息 -->
   <select id="findLeaseInfoVO" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO" resultType="com.xxm.it.business.vo.BaseLeaseInfoVO">
     <include refid="query_lease_info"></include>
     <include refid="select_condition"></include>
   </select>
   <!-- 根据车产类型的值去拿name -->
   <select id="findcarTypeName" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO" resultType="com.xxm.it.business.vo.BaseLeaseInfoVO">
      SELECT  distinct
	     <if test="carTypeVL != null and carTypeVL != ''">
         getBaseDateNameByCode('CAR_TYPE',#{carTypeVL,jdbcType=VARCHAR},1) AS carTypeVLName
         </if>
         FROM xxm_base_lease_info_t t 
   </select>
   <!-- 修改租物信息 -->
   <update id="updateLeaseInfoVO">
     UPDATE xxm_base_lease_info_t 
	  	SET
			car_Type_VL = #{carTypeVL,jdbcType=VARCHAR},
			manufacturer = #{manufacturer,jdbcType=VARCHAR},
			brand = #{brand,jdbcType=VARCHAR},
			car_Name = #{carName,jdbcType=VARCHAR},
			model = #{model,jdbcType=VARCHAR},
			leasehold_Use = #{leaseholdUse,jdbcType=VARCHAR},
			leasehold_Area = #{leaseholdArea,jdbcType=VARCHAR},
			engine_Number = #{engineNumber,jdbcType=VARCHAR},
			frame_Number = #{frameNumber,jdbcType=VARCHAR},
			driving_Form = #{drivingForm,jdbcType=VARCHAR},
			engine_Model = #{engineModel,jdbcType=VARCHAR},
			engine_Power = #{enginePower,jdbcType=VARCHAR},
			car_Color = #{carColor,jdbcType=VARCHAR},
			plate_Number = #{plateNumber,jdbcType=VARCHAR},
			other_Instructions = #{otherInstructions,jdbcType=VARCHAR},
			apply_Info_Id = #{applyInfoId,jdbcType=VARCHAR},
			last_update_by = #{lastUpdateBy,jdbcType=VARCHAR},
			last_update_date = sysdate(),
			status = #{status,jdbcType=VARCHAR},
			install_id = #{installId,jdbcType=VARCHAR},
			run_area_name = #{runAreaName,jdbcType=VARCHAR},
			start_site_name = #{startSiteName,jdbcType=VARCHAR},
			license_type_product_config = #{licenseTypeProductConfig,jdbcType=VARCHAR},
			license_color_code_product_config = #{licenseColorCodeProductConfig,jdbcType=VARCHAR},
			car_kind_code = #{carKindCode,jdbcType=VARCHAR},
			engine_no = #{engineNo,jdbcType=VARCHAR},
			vin_no = #{vinNo,jdbcType=VARCHAR},
			enroll_date = #{enrollDate,jdbcType=VARCHAR},
			brand_name = #{brandName,jdbcType=VARCHAR},
			seat_count = #{seatCount,jdbcType=VARCHAR},
			exhaust_scale = #{exhaustScale,jdbcType=VARCHAR},
			ton_count = #{tonCount,jdbcType=VARCHAR},
			purchase_price = #{purchasePrice,jdbcType=VARCHAR},
			invoice_no = #{invoiceNo,jdbcType=VARCHAR},
			loan_no1 = #{loanNo1,jdbcType=VARCHAR},
			plan_amount = #{planAmount,jdbcType=VARCHAR},
			unit_amount = #{unitAmount,jdbcType=VARCHAR},
			loan_way = #{loanWay,jdbcType=VARCHAR},
			car_kind = #{carKind,jdbcType=VARCHAR},
			car_type = #{carType,jdbcType=VARCHAR},
			main_bd = #{mainBd,jdbcType=VARCHAR},
			carlne = #{carlne,jdbcType=VARCHAR},
			car_tp = #{carTp,jdbcType=VARCHAR},
			regs_no = #{regsNo,jdbcType=VARCHAR},
			gtre_dt = #{gtreDt,jdbcType=VARCHAR},
			seal_am = #{sealAm,jdbcType=VARCHAR},
			tripartite_ev = #{tripartiteEv,jdbcType=VARCHAR},
			rb_evaluate = #{rbEvaluate,jdbcType=VARCHAR},
			driving_mileage = #{drivingMileage,jdbcType=VARCHAR},
			tran_am = #{tranAm,jdbcType=VARCHAR},
			car_age = #{carAge,jdbcType=VARCHAR},
			powerctetype = #{powerctetype,jdbcType=VARCHAR},
			buycarcustname = #{buycarcustname,jdbcType=VARCHAR},
			chnelbusno = #{chnelbusno,jdbcType=VARCHAR},
			chnelbusname = #{chnelbusname,jdbcType=VARCHAR},
			chnelbusadr = #{chnelbusadr,jdbcType=VARCHAR},
			sellername = #{sellername,jdbcType=VARCHAR},
			selleraddress = #{selleraddress,jdbcType=VARCHAR},
			payeename = #{payeename,jdbcType=VARCHAR},
			isotherbank = #{isotherbank,jdbcType=VARCHAR},
			payeetype = #{payeetype,jdbcType=VARCHAR},
			payeeacct = #{payeeacct,jdbcType=VARCHAR},
			payeebank = #{payeebank,jdbcType=VARCHAR},
			payeebankno = #{payeebankno,jdbcType=VARCHAR},
			carowner = #{carowner,jdbcType=VARCHAR},
			leasecmpname = #{leasecmpname,jdbcType=VARCHAR},
			leasecmpadr = #{leasecmpadr,jdbcType=VARCHAR},
			imeino = #{imeino,jdbcType=VARCHAR},
			gpsstt = #{gpsstt,jdbcType=VARCHAR},
			storena = #{storena,jdbcType=VARCHAR},
			ifwhiteflag = #{ifwhiteflag,jdbcType=VARCHAR},
			use_nature = #{useNature,jdbcType=VARCHAR},
			invoice_value = #{invoiceValue,jdbcType=VARCHAR},
			step_hull = #{stepHull,jdbcType=VARCHAR},
			sealsn = #{sealsn,jdbcType=VARCHAR},
			gpsput = #{gpsput,jdbcType=VARCHAR},
			usesTp = #{usesTp,jdbcType=VARCHAR},
			model_name = #{modelName,jdbcType=VARCHAR}
		WHERE
			base_lease_info_id = #{baseLeaseInfoId,jdbcType=VARCHAR}
   </update>
   <!-- 添加凭租物信息 -->
   <insert id="addLeaseInfo" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO">
     	INSERT INTO xxm_base_lease_info_t (
				car_Type_VL,
				manufacturer,
				brand,
				car_Name,
				model,
				leasehold_Use,
				leasehold_Area,
				engine_Number,
				frame_Number,
				driving_Form,
				engine_Model,
				engine_Power,
				car_Color,
				plate_Number,
				other_Instructions,
				apply_Info_Id,
				create_by,
				create_date,
				last_update_by,
				last_update_date,
				status,
				install_id,
				run_area_name,
				start_site_name,
				license_type_product_config,
				license_color_code_product_config,
				car_kind_code,
				engine_no,
				vin_no,
				enroll_date,
				brand_name,
				seat_count,
				exhaust_scale,
				ton_count,
				purchase_price,
				invoice_no,
				loan_no1,
				plan_amount,
				unit_amount,
				loan_way,
				car_kind,
				car_type,
				main_bd,
				carlne,
				car_tp,
				regs_no,
				gtre_dt,
				seal_am,
				tripartite_ev,
				rb_evaluate,
				driving_mileage,
				tran_am,
				car_age,
				powerctetype,
				buycarcustname,
				chnelbusno,
				chnelbusname,
				chnelbusadr,
				sellername,
				selleraddress,
				payeename,
				isotherbank,
				payeetype,
				payeeacct,
				payeebank,
				payeebankno,
				carowner,
				leasecmpname,
				leasecmpadr,
				imeino,
				gpsstt,
				storena,
				ifwhiteflag,
				use_nature,
				invoice_value,
				step_hull,
				sealsn,
				gpsput,
				usesTp,
				model_name
			)
			VALUES
			(
				#{carTypeVL,jdbcType=VARCHAR},
				#{manufacturer,jdbcType=VARCHAR},
				#{brand,jdbcType=VARCHAR},
				#{carName,jdbcType=VARCHAR},
				#{model,jdbcType=VARCHAR},
				#{leaseholdUse,jdbcType=VARCHAR},
				#{leaseholdArea,jdbcType=VARCHAR},
				#{engineNumber,jdbcType=VARCHAR},
				#{frameNumber,jdbcType=VARCHAR},
				#{drivingForm,jdbcType=VARCHAR},
				#{engineModel,jdbcType=VARCHAR},
				#{enginePower,jdbcType=VARCHAR},
				#{carColor,jdbcType=VARCHAR},
				#{plateNumber,jdbcType=VARCHAR},
				#{otherInstructions,jdbcType=VARCHAR},
				#{applyInfoId,jdbcType=VARCHAR},
				#{createBy,jdbcType=VARCHAR},
				sysdate(),
				#{lastUpdateBy,jdbcType=VARCHAR},
				sysdate(),
				#{status,jdbcType=VARCHAR},
				#{installId,jdbcType=VARCHAR},
				#{runAreaName,jdbcType=VARCHAR},
				#{startSiteName,jdbcType=VARCHAR},
				#{licenseTypeProductConfig,jdbcType=VARCHAR},
				#{licenseColorCodeProductConfig,jdbcType=VARCHAR},
				#{carKindCode,jdbcType=VARCHAR},
				#{engineNo,jdbcType=VARCHAR},
				#{vinNo,jdbcType=VARCHAR},
				#{enrollDate,jdbcType=VARCHAR},
				#{brandName,jdbcType=VARCHAR},
				#{seatCount,jdbcType=VARCHAR},
				#{exhaustScale,jdbcType=VARCHAR},
				#{tonCount,jdbcType=VARCHAR},
				#{purchasePrice,jdbcType=VARCHAR},
				#{invoiceNo,jdbcType=VARCHAR},
				#{loanNo1,jdbcType=VARCHAR},
				#{planAmount,jdbcType=VARCHAR},
				#{unitAmount,jdbcType=VARCHAR},
				#{loanWay,jdbcType=VARCHAR},
				#{carKind,jdbcType=VARCHAR},
				#{carType,jdbcType=VARCHAR},
				#{mainBd,jdbcType=VARCHAR},
				#{carlne,jdbcType=VARCHAR},
				#{carTp,jdbcType=VARCHAR},
				#{regsNo,jdbcType=VARCHAR},
				#{gtreDt,jdbcType=VARCHAR},
				#{sealAm,jdbcType=VARCHAR},
				#{tripartiteEv,jdbcType=VARCHAR},
				#{rbEvaluate,jdbcType=VARCHAR},
				#{drivingMileage,jdbcType=VARCHAR},
				#{tranAm,jdbcType=VARCHAR},
				#{carAge,jdbcType=VARCHAR},
				#{powerctetype,jdbcType=VARCHAR},
				#{buycarcustname,jdbcType=VARCHAR},
				#{chnelbusno,jdbcType=VARCHAR},
				#{chnelbusname,jdbcType=VARCHAR},
				#{chnelbusadr,jdbcType=VARCHAR},
				#{sellername,jdbcType=VARCHAR},
				#{selleraddress,jdbcType=VARCHAR},
				#{payeename,jdbcType=VARCHAR},
				#{isotherbank,jdbcType=VARCHAR},
				#{payeetype,jdbcType=VARCHAR},
				#{payeeacct,jdbcType=VARCHAR},
				#{payeebank,jdbcType=VARCHAR},
				#{payeebankno,jdbcType=VARCHAR},
				#{carowner,jdbcType=VARCHAR},
				#{leasecmpname,jdbcType=VARCHAR},
				#{leasecmpadr,jdbcType=VARCHAR},
				#{imeino,jdbcType=VARCHAR},
				#{gpsstt,jdbcType=VARCHAR},
				#{storena,jdbcType=VARCHAR},
				#{ifwhiteflag,jdbcType=VARCHAR},
				#{useNature,jdbcType=VARCHAR},
				#{invoiceValue,jdbcType=VARCHAR},
				#{stepHull,jdbcType=VARCHAR},
				#{sealsn,jdbcType=VARCHAR},
				#{gpsput,jdbcType=VARCHAR},
				#{usesTp,jdbcType=VARCHAR},
				#{modelName,jdbcType=VARCHAR}
		)
   </insert>
   <!-- 删除操作 仅仅status值得变更 并不去删除数据 -->
   <delete id="deleteLeaseInfo" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO">
     UPDATE xxm_base_lease_info_t SET 
			status= #{status, jdbcType=VARCHAR}
		WHERE base_lease_info_id in 
		<foreach collection="leaseInfoIds" item="item" index="index" separator="," open="(" close=")">  
			#{item}
		</foreach> 
   </delete>
   
   <!-- 新增租赁物业务信息表-->
	<insert id="addBusinessLeaseInfo" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO" useGeneratedKeys="true" keyProperty="leaseInfoId">
		 INSERT INTO xxm_lease_info_t (
			base_lease_info_id,
			car_Type_VL,
			manufacturer,
			brand,
			car_Name,
			model,
			leasehold_Use,
			leasehold_Area,
			engine_Number,
			frame_Number,
			driving_Form,
			engine_Model,
			engine_Power,
			car_Color,
			plate_Number,
			other_Instructions,
			apply_Info_Id,
			create_by,
			create_date,
			last_update_by,
			last_update_date,
			status,
			run_area_name,
			start_site_name,
			license_type_product_config,
			license_color_code_product_config,
			car_kind_code,
			engine_no,
			vin_no,
			enroll_date,
			brand_name,
			seat_count,
			exhaust_scale,
			ton_count,
			purchase_price,
			invoice_no,
			loan_no1,
			plan_amount,
			unit_amount,
			loan_way,
			car_kind,
			car_type,
			main_bd,
			carlne,
			car_tp,
			regs_no,
			gtre_dt,
			seal_am,
			tripartite_ev,
			rb_evaluate,
			driving_mileage,
			tran_am,
			car_age,
			powerctetype,
			buycarcustname,
			chnelbusno,
			chnelbusname,
			chnelbusadr,
			sellername,
			selleraddress,
			payeename,
			isotherbank,
			payeetype,
			payeeacct,
			payeebank,
			payeebankno,
			carowner,
			leasecmpname,
			leasecmpadr,
			imeino,
			gpsstt,
			storena,
			ifwhiteflag,
			use_nature,
			invoice_value,
			step_hull,
			sealsn,
			gpsput,
			usesTp,
			model_name
		)
		VALUES
			(
				#{baseLeaseInfoId,jdbcType=VARCHAR},
				#{carTypeVL,jdbcType=VARCHAR},
				#{manufacturer,jdbcType=VARCHAR},
				#{brand,jdbcType=VARCHAR},
				#{carName,jdbcType=VARCHAR},
				#{model,jdbcType=VARCHAR},
				#{leaseholdUse,jdbcType=VARCHAR},
				#{leaseholdArea,jdbcType=VARCHAR},
				#{engineNumber,jdbcType=VARCHAR},
				#{frameNumber,jdbcType=VARCHAR},
				#{drivingForm,jdbcType=VARCHAR},
				#{engineModel,jdbcType=VARCHAR},
				#{enginePower,jdbcType=VARCHAR},
				#{carColor,jdbcType=VARCHAR},
				#{plateNumber,jdbcType=VARCHAR},
				#{otherInstructions,jdbcType=VARCHAR},
				#{applyInfoId,jdbcType=VARCHAR},
				#{createBy,jdbcType=VARCHAR},
				sysdate(),
				#{lastUpdateBy,jdbcType=VARCHAR},
				sysdate(),
				#{status,jdbcType=VARCHAR},
				#{runAreaName,jdbcType=VARCHAR},
				#{startSiteName,jdbcType=VARCHAR},
				#{licenseTypeProductConfig,jdbcType=VARCHAR},
				#{licenseColorCodeProductConfig,jdbcType=VARCHAR},
				#{carKindCode,jdbcType=VARCHAR},
				#{engineNo,jdbcType=VARCHAR},
				#{vinNo,jdbcType=VARCHAR},
				#{enrollDate,jdbcType=VARCHAR},
				#{brandName,jdbcType=VARCHAR},
				#{seatCount,jdbcType=VARCHAR},
				#{exhaustScale,jdbcType=VARCHAR},
				#{tonCount,jdbcType=VARCHAR},
				#{purchasePrice,jdbcType=VARCHAR},
				#{invoiceNo,jdbcType=VARCHAR},
				#{loanNo1,jdbcType=VARCHAR},
				#{planAmount,jdbcType=VARCHAR},
				#{unitAmount,jdbcType=VARCHAR},
				#{loanWay,jdbcType=VARCHAR},
				#{carKind,jdbcType=VARCHAR},
				#{carType,jdbcType=VARCHAR},
				#{mainBd,jdbcType=VARCHAR},
				#{carlne,jdbcType=VARCHAR},
				#{carTp,jdbcType=VARCHAR},
				#{regsNo,jdbcType=VARCHAR},
				#{gtreDt,jdbcType=VARCHAR},
				#{sealAm,jdbcType=VARCHAR},
				#{tripartiteEv,jdbcType=VARCHAR},
				#{rbEvaluate,jdbcType=VARCHAR},
				#{drivingMileage,jdbcType=VARCHAR},
				#{tranAm,jdbcType=VARCHAR},
				#{carAge,jdbcType=VARCHAR},
				#{powerctetype,jdbcType=VARCHAR},
				#{buycarcustname,jdbcType=VARCHAR},
				#{chnelbusno,jdbcType=VARCHAR},
				#{chnelbusname,jdbcType=VARCHAR},
				#{chnelbusadr,jdbcType=VARCHAR},
				#{sellername,jdbcType=VARCHAR},
				#{selleraddress,jdbcType=VARCHAR},
				#{payeename,jdbcType=VARCHAR},
				#{isotherbank,jdbcType=VARCHAR},
				#{payeetype,jdbcType=VARCHAR},
				#{payeeacct,jdbcType=VARCHAR},
				#{payeebank,jdbcType=VARCHAR},
				#{payeebankno,jdbcType=VARCHAR},
				#{carowner,jdbcType=VARCHAR},
				#{leasecmpname,jdbcType=VARCHAR},
				#{leasecmpadr,jdbcType=VARCHAR},
				#{imeino,jdbcType=VARCHAR},
				#{gpsstt,jdbcType=VARCHAR},
				#{storena,jdbcType=VARCHAR},
				#{ifwhiteflag,jdbcType=VARCHAR},
				#{useNature,jdbcType=VARCHAR},
				#{invoiceValue,jdbcType=VARCHAR},
				#{stepHull,jdbcType=VARCHAR},
				#{sealsn,jdbcType=VARCHAR},
				#{gpsput,jdbcType=VARCHAR},
				#{usesTp,jdbcType=VARCHAR},
				#{modelName,jdbcType=VARCHAR}
			)
	</insert>
	
	<!-- 查询业务租凭物信息 -->
   	<select id="findBusinessLeaseInfo" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO" resultType="com.xxm.it.business.vo.BaseLeaseInfoVO">
	    SELECT 
		    t.lease_info_id AS leaseInfoId,
		    t.base_lease_info_id AS baseLeaseInfoId,
		    t.car_Type_VL AS carTypeVL,
			getBaseDateNameByCode('CAR_TYPE',t.car_Type_VL,1) AS "carTypeVLName",
		    t.manufacturer AS manufacturer,
		    t.brand AS brand,
		    t.car_Name AS carName,
		    t.model AS model ,
		    t.leasehold_Use AS leaseholdUse,
		    getBaseDateNameByCode('CAR_USAGE_PRODUCT_CONFIG',t.leasehold_Use,1) AS "leaseholdUseName",
		    t.leasehold_Area AS leaseholdArea,
		    t.engine_Number AS engineNumber,
		    t.frame_Number AS frameNumber,
		    t.driving_Form AS drivingForm,
		    t.engine_Model AS engineModel,
		    t.engine_Power AS enginePower,
		    t.car_Color AS carColor,
		    t.plate_Number AS plateNumber,
		    t.other_Instructions AS otherInstructions,
		    
		    t.status AS status,
			t.run_area_name AS runAreaName,
			t.start_site_name AS startSiteName,
			t.license_type_product_config AS licenseTypeProductConfig,
			getBaseDateNameByCode('LICENSE_TYPE_PRODUCT_CONFIG',t.license_type_product_config,1) AS "licenseTypeProductConfigName",
			t.license_color_code_product_config AS licenseColorCodeProductConfig,
			t.car_kind_code AS carKindCode,
			getBaseDateNameByCode('CAR_KIND_CODE',t.car_kind_code,1) AS "carKindCodeName",
			t.engine_no AS engineNo,
			t.vin_no AS vinNo,
			t.enroll_date AS enrollDate,
			t.brand_name AS brandName,
			t.seat_count AS seatCount,
			t.exhaust_scale AS exhaustScale,
			t.ton_count AS tonCount,
			t.purchase_price AS purchasePrice,
			t.invoice_no AS invoiceNo,
			t.loan_no1 AS loanNo1,
			t.plan_amount AS planAmount,
			t.unit_amount AS unitAmount,
			t.loan_way AS loanWay,
			getBaseDateNameByCode('LOAN_WAY',t.loan_way,1) AS "loanWayName",
			t.car_kind AS carKind,
			t.car_type AS carType,
			getBaseDateNameByCode('CAR_TYPE',t.car_type,1) AS "carTypeName",
			t.main_bd AS mainBd,
			t.carlne AS carlne,
			t.car_tp AS carTp,
			t.regs_no AS regsNo,
			t.gtre_dt AS gtreDt,
			t.seal_am AS sealAm,
			t.tripartite_ev AS tripartiteEv,
			t.rb_evaluate AS rbEvaluate,
			t.driving_mileage AS drivingMileage,
			t.tran_am AS tranAm,
			t.car_age AS carAge,
			t.powerctetype AS powerctetype,
			t.buycarcustname AS buycarcustname,
			t.chnelbusno AS chnelbusno,
			t.chnelbusname AS chnelbusname,
			t.chnelbusadr AS chnelbusadr,
			t.sellername AS sellername,
			t.selleraddress AS selleraddress,
			t.payeename AS payeename,
			t.isotherbank AS isotherbank,
			getBaseDateNameByCode('ISOTHERBANK',t.isotherbank,1) AS "isotherbankName",
			t.payeetype AS payeetype,
			getBaseDateNameByCode('PAYEETYPE',t.payeetype,1) AS "payeetypeName",
			t.payeeacct AS payeeacct,
			t.payeebank AS payeebank,
			t.payeebankno AS payeebankno,
			t.carowner AS carowner,
			t.leasecmpname AS leasecmpname,
			t.leasecmpadr AS leasecmpadr,
			t.imeino AS imeino,
			t.gpsstt AS gpsstt,
			getBaseDateNameByCode('GPSSTT',t.gpsstt,1) AS "gpssttName",
			t.storena AS storena,
			t.ifwhiteflag AS ifwhiteflag,
			getBaseDateNameByCode('IFWHITEFLAG',t.ifwhiteflag,1) AS "ifwhiteflagName",
			t.use_nature AS useNature,
			getBaseDateNameByCode('USE_NATURE',t.use_nature,1) AS "useNatureName",
			t.invoice_value AS invoiceValue,
		    t.apply_Info_Id AS applyInfoId,
		    t.step_hull AS stepHull,
		    getBaseDateNameByCode('STEP_HULL',t.step_hull,1) AS "stepHullName",
		    t.gpsput AS gpsput,
			t.sealsn AS sealsn,
			t.usesTp AS usesTp,
			getBaseDateNameByCode('USES_TP',t.usesTp,1) AS "usesTpName",
			t.model_name AS modelName,
		    t.create_by AS createBy,
		    t.create_date AS createDate,
		    t.last_update_by AS lastUpdateBy,
		    t.last_update_date AS lastUpdateDate
		    FROM xxm_lease_info_t t 
   		WHERE 1=1
   		<if test="applyInfoId != null and applyInfoId != ''">
			AND t.apply_Info_Id = #{applyInfoId,jdbcType=VARCHAR}
		</if>
		<if test="leaseInfoId != null and leaseInfoId != ''">
			AND t.lease_info_id = #{leaseInfoId,jdbcType=VARCHAR}
		</if>
   	</select>
   	
   	<!-- 修改“业务”租赁物信息-->
	<update id="updateBusinessLeaseInfo" parameterType="com.xxm.it.business.vo.BaseLeaseInfoVO">
		UPDATE xxm_lease_info_t SET 
<!-- 			base_lease_info_id = #{baseLeaseInfoId,jdbcType=VARCHAR}, -->
			car_Type_VL = #{carTypeVL,jdbcType=VARCHAR},
			manufacturer = #{manufacturer,jdbcType=VARCHAR},
			brand = #{brand,jdbcType=VARCHAR},
			car_Name = #{carName,jdbcType=VARCHAR},
			model = #{model,jdbcType=VARCHAR},
			leasehold_Use = #{leaseholdUse,jdbcType=VARCHAR},
			leasehold_Area = #{leaseholdArea,jdbcType=VARCHAR},
			engine_Number = #{engineNumber,jdbcType=VARCHAR},
			frame_Number = #{frameNumber,jdbcType=VARCHAR},
			driving_Form = #{drivingForm,jdbcType=VARCHAR},
			engine_Model = #{engineModel,jdbcType=VARCHAR},
			engine_Power = #{enginePower,jdbcType=VARCHAR},
			car_Color = #{carColor,jdbcType=VARCHAR},
			plate_Number = #{plateNumber,jdbcType=VARCHAR},
			other_Instructions = #{otherInstructions,jdbcType=VARCHAR},
			<!-- apply_Info_Id = #{applyInfoId,jdbcType=VARCHAR}, -->
			last_update_by = #{lastUpdateBy,jdbcType=VARCHAR},
			last_update_date = sysdate(),
			status = #{status,jdbcType=VARCHAR},
			run_area_name = #{runAreaName,jdbcType=VARCHAR},
			start_site_name = #{startSiteName,jdbcType=VARCHAR},
			license_type_product_config = #{licenseTypeProductConfig,jdbcType=VARCHAR},
			license_color_code_product_config = #{licenseColorCodeProductConfig,jdbcType=VARCHAR},
			car_kind_code = #{carKindCode,jdbcType=VARCHAR},
			engine_no = #{engineNo,jdbcType=VARCHAR},
			vin_no = #{vinNo,jdbcType=VARCHAR},
			enroll_date = #{enrollDate,jdbcType=VARCHAR},
			brand_name = #{brandName,jdbcType=VARCHAR},
			seat_count = #{seatCount,jdbcType=VARCHAR},
			exhaust_scale = #{exhaustScale,jdbcType=VARCHAR},
			ton_count = #{tonCount,jdbcType=VARCHAR},
			purchase_price = #{purchasePrice,jdbcType=VARCHAR},
			invoice_no = #{invoiceNo,jdbcType=VARCHAR},
			loan_no1 = #{loanNo1,jdbcType=VARCHAR},
			plan_amount = #{planAmount,jdbcType=VARCHAR},
			unit_amount = #{unitAmount,jdbcType=VARCHAR},
			loan_way = #{loanWay,jdbcType=VARCHAR},
			car_kind = #{carKind,jdbcType=VARCHAR},
			car_type = #{carType,jdbcType=VARCHAR},
			main_bd = #{mainBd,jdbcType=VARCHAR},
			carlne = #{carlne,jdbcType=VARCHAR},
			car_tp = #{carTp,jdbcType=VARCHAR},
			regs_no = #{regsNo,jdbcType=VARCHAR},
			gtre_dt = #{gtreDt,jdbcType=VARCHAR},
			seal_am = #{sealAm,jdbcType=VARCHAR},
			tripartite_ev = #{tripartiteEv,jdbcType=VARCHAR},
			rb_evaluate = #{rbEvaluate,jdbcType=VARCHAR},
			driving_mileage = #{drivingMileage,jdbcType=VARCHAR},
			tran_am = #{tranAm,jdbcType=VARCHAR},
			car_age = #{carAge,jdbcType=VARCHAR},
			powerctetype = #{powerctetype,jdbcType=VARCHAR},
			buycarcustname = #{buycarcustname,jdbcType=VARCHAR},
			chnelbusno = #{chnelbusno,jdbcType=VARCHAR},
			chnelbusname = #{chnelbusname,jdbcType=VARCHAR},
			chnelbusadr = #{chnelbusadr,jdbcType=VARCHAR},
			sellername = #{sellername,jdbcType=VARCHAR},
			selleraddress = #{selleraddress,jdbcType=VARCHAR},
			payeename = #{payeename,jdbcType=VARCHAR},
			isotherbank = #{isotherbank,jdbcType=VARCHAR},
			payeetype = #{payeetype,jdbcType=VARCHAR},
			payeeacct = #{payeeacct,jdbcType=VARCHAR},
			payeebank = #{payeebank,jdbcType=VARCHAR},
			payeebankno = #{payeebankno,jdbcType=VARCHAR},
			carowner = #{carowner,jdbcType=VARCHAR},
			leasecmpname = #{leasecmpname,jdbcType=VARCHAR},
			leasecmpadr = #{leasecmpadr,jdbcType=VARCHAR},
			imeino = #{imeino,jdbcType=VARCHAR},
			gpsstt = #{gpsstt,jdbcType=VARCHAR},
			storena = #{storena,jdbcType=VARCHAR},
			ifwhiteflag = #{ifwhiteflag,jdbcType=VARCHAR},
			use_nature = #{useNature,jdbcType=VARCHAR},
			invoice_value = #{invoiceValue,jdbcType=VARCHAR},
			step_hull = #{stepHull,jdbcType=VARCHAR},
			sealsn = #{sealsn,jdbcType=VARCHAR},
			gpsput = #{gpsput,jdbcType=VARCHAR},
			usesTp = #{usesTp,jdbcType=VARCHAR},
			model_name = #{modelName,jdbcType=VARCHAR}
		WHERE
			lease_info_id = #{leaseInfoId,jdbcType=VARCHAR}
	</update>
</mapper>